(()=>{"use strict";var e,a={349(e,a,s){const r=window.wp.blocks,t=window.wp.i18n,n=window.wp.blockEditor,c=window.wp.element,l=window.wp.apiFetch;var i=s.n(l);const d=window.ReactJSXRuntime,o=JSON.parse('{"UU":"create-block/advanced-search-block"}');(0,r.registerBlockType)(o.UU,{edit:function(){const e=(0,n.useBlockProps)(),a=new URLSearchParams(window.location.search),[s,r]=(0,c.useState)(a.get("q")||""),[l,o]=(0,c.useState)(a.get("cat")||""),[h,v]=(0,c.useState)([]),[p,u]=(0,c.useState)([]),[b,g]=(0,c.useState)(a.getAll("tags[]")||[]);return(0,c.useEffect)(()=>{i()({path:"/wp/v2/categories?per_page=100"}).then(e=>v(e))},[]),(0,c.useEffect)(()=>{i()({path:"/wp/v2/tags?per_page=100"}).then(e=>u(e))},[]),(0,c.useEffect)(()=>{const e=new URLSearchParams;s&&e.set("q",s),l&&e.set("cat",l),b.forEach(a=>{e.append("tags[]",a)});const a=window.location.pathname+(e.toString()?`?${e.toString()}`:"");window.history.replaceState({},"",a)},[s,l,b]),(0,d.jsxs)("div",{...e,children:[(0,d.jsxs)("div",{className:"asb-field",children:[(0,d.jsx)("label",{children:(0,t.__)("Keyword","advanced-search-block")}),(0,d.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:(0,t.__)("Search keywordâ€¦","advanced-search-block")})]}),(0,d.jsxs)("div",{className:"asb-field",children:[(0,d.jsx)("label",{children:(0,t.__)("Category","advanced-search-block")}),(0,d.jsxs)("select",{value:l,onChange:e=>o(e.target.value),children:[(0,d.jsx)("option",{value:"",children:(0,t.__)("All Categories","advanced-search-block")}),h.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsxs)("div",{className:"asb-field",children:[(0,d.jsx)("label",{children:(0,t.__)("Tags","advanced-search-block")}),(0,d.jsx)("div",{className:"asb-tags",children:p.map(e=>{const a=b.includes(String(e.id));return(0,d.jsxs)("label",{className:"asb-tag",children:[(0,d.jsx)("input",{type:"checkbox",value:e.id,checked:a,onChange:a=>{a.target.checked?g([...b,String(e.id)]):g(b.filter(a=>a!==String(e.id)))}}),(0,d.jsx)("span",{children:e.name})]},e.id)})})]})]})},save:function(){return(0,d.jsxs)("div",{...n.useBlockProps.save(),children:[(0,d.jsxs)("form",{className:"asb-form",children:[(0,d.jsxs)("div",{className:"asb-field",children:[(0,d.jsx)("label",{children:"Keyword"}),(0,d.jsx)("input",{type:"text",name:"q"})]}),(0,d.jsxs)("div",{className:"asb-field",children:[(0,d.jsx)("label",{children:"Category"}),(0,d.jsx)("select",{name:"cat"})]}),(0,d.jsxs)("div",{className:"asb-field",children:[(0,d.jsx)("label",{children:"Tags"}),(0,d.jsx)("div",{className:"asb-tags"})]})]}),(0,d.jsx)("div",{className:"asb-results"}),(0,d.jsx)("div",{className:"asb-pagination"})]})}})}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return a[e](n,n.exports,r),n.exports}r.m=a,e=[],r.O=(a,s,t,n)=>{if(!s){var c=1/0;for(o=0;o<e.length;o++){for(var[s,t,n]=e[o],l=!0,i=0;i<s.length;i++)(!1&n||c>=n)&&Object.keys(r.O).every(e=>r.O[e](s[i]))?s.splice(i--,1):(l=!1,n<c&&(c=n));if(l){e.splice(o--,1);var d=t();void 0!==d&&(a=d)}}return a}n=n||0;for(var o=e.length;o>0&&e[o-1][2]>n;o--)e[o]=e[o-1];e[o]=[s,t,n]},r.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return r.d(a,{a}),a},r.d=(e,a)=>{for(var s in a)r.o(a,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},r.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={23:0,943:0};r.O.j=a=>0===e[a];var a=(a,s)=>{var t,n,[c,l,i]=s,d=0;if(c.some(a=>0!==e[a])){for(t in l)r.o(l,t)&&(r.m[t]=l[t]);if(i)var o=i(r)}for(a&&a(s);d<c.length;d++)n=c[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(o)},s=globalThis.webpackChunkadvanced_search_block=globalThis.webpackChunkadvanced_search_block||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var t=r.O(void 0,[943],()=>r(349));t=r.O(t)})();